## Accounts
account-hook . "unset imap_user; unset imap_pass; unset tunnel"
account-hook "imaps://florian.leitner@imap.gmail.com/" "\
             set imap_user = florian.leitner@gmail.com"
account-hook "imaps://fleitner.upm@imap.gmail.com/" "\
              set imap_user = fleitner.upm@gmail.com"

# florian.leitner
set folder         = imaps://florian.leitner@imap.gmail.com/
mailboxes          = +INBOX
folder-hook        imaps://florian.leitner@imap.gmail.com/ "\
    set folder     = imaps://florian.leitner@imap.gmail.com/ \
        spoolfile  = +INBOX \
        postponed  = +[Gmail]/Drafts \
        from       = 'florian.leitner@gmail.com' \
        signature  = '' \
        smtp_url   = smtps://florian.leitner@smtp.gmail.com"

# fleitner.upm
set folder         = imaps://fleitner.upm@imap.gmail.com/
mailboxes          = +INBOX
folder-hook        imaps://fleitner.upm@imap.gmail.com/ "\
    set folder     = imaps://fleitner.upm@imap.gmail.com/ \
        spoolfile  = +INBOX \
        postponed  = +[Gmail]/Drafts \
        from       = 'florian.leitner@upm.es' \
				signature  = '~/.plan' \
        smtp_url   = smtps://fleitner.upm@smtp.gmail.com"
folder-hook        imaps://fleitner.upm@imap.gmail.com/ "\
		send-hook .	   'my_hdr Reply-To: Florian Leitner <fleitner.upm@gmail.com>'"

## Macros
# jump to mailbox number (fleitner.upm inbox)
macro index A "y13<return><return>"  "Jump to fleitner.upm INBOX"
# jump to mailbox number (florian.leitner inbox)
macro index B "y44<return><return>"  "Jump to florian.leitner INBOX"

## Settings
set realname = "Florian Leitner"
# Check for mail every minute for current IMAP mailbox every 1 min
set timeout = 60
# Check for new mail in ALL mailboxes every 2.5 min
set mail_check = 150
# keep imap connection alive by polling intermittently (time in seconds)
set imap_keepalive = 300
# allow mutt to open new imap connection automatically
unset imap_passive
# search for all lables/folders
set imap_check_subscribed
# Store message headers locally to speed things up.
# If cache is a folder, Mutt will create sub cache folders for each account
# which may speeds things even more up.
set header_cache = ~/.cache/mutt
# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.
set message_cachedir = "~/.cache/mutt"
# sort mail by threads
set sort = threads
# and sort threads by date
set sort_aux = last-date-received
# SSL settings
set ssl_force_tls = yes
set ssl_starttls = yes
